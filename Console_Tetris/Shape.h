#pragma once

#include "value.h"

class CShape
{
public:
	CShape();
	~CShape();

private:
	char		m_cShape[4][4];
	// 도형의 기준위치
	POSITION	m_tPos;

	// 도형의 방향을 지정 상,하,좌,우
	int			m_iDir;

	// Shape : O J L I S T Z
	// Rotation : Up, Right, Down, Left
	char		m_cBlocks[7][4][4][4] = {
		{ { '1','1','1','1','1','1','1','1','0','0','1','1','0','0','1','1' },{ '1','1','1','1','1','1','1','1','0','0','1','1','0','0','1','1' },
	{ '1','1','1','1','1','1','1','1','0','0','1','1','0','0','1','1' },{ '1','1','1','1','1','1','1','1','0','0','1','1','0','0','1','1' } },
	{ { '1','1','1','1','1','0','1','1','1','0','1','1','0','0','1','1' },{ '1','1','1','1','1','1','1','1','0','1','1','1','0','0','0','1' },
	{ '1','1','1','1','0','0','1','1','0','1','1','1','0','1','1','1' },{ '1','1','1','1','1','1','1','1','0','0','0','1','1','1','0','1' } },
	{ { '1','1','1','1','0','1','1','1','0','1','1','1','0','0','1','1' },{ '1','1','1','1','1','1','1','1','0','0','0','1','0','1','1','1' },
	{ '1','1','1','1','0','0','1','1','1','0','1','1','1','0','1','1' },{ '1','1','1','1','1','1','1','1','1','1','0','1','0','0','0','1' } },
	{ { '0','1','1','1','0','1','1','1','0','1','1','1','0','1','1','1' },{ '1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0' },
	{ '0','1','1','1','0','1','1','1','0','1','1','1','0','1','1','1' },{ '1','1','1','1','1','1','1','1','1','1','1','1','0','0','0','0' } },
	{ { '1','1','1','1','0','1','1','1','0','0','1','1','1','0','1','1' },{ '1','1','1','1','1','1','1','1','1','0','0','1','0','0','1','1' },
	{ '1','1','1','1','0','1','1','1','0','0','1','1','1','0','1','1' },{ '1','1','1','1','1','1','1','1','1','0','0','1','0','0','1','1' } },
	{ { '1','1','1','1','1','1','1','1','1','0','1','1','0','0','0','1' },{ '1','1','1','1','0','1','1','1','0','0','1','1','0','1','1','1' },
	{ '1','1','1','1','1','1','1','1','0','0','0','1','1','0','1','1' },{ '1','1','1','1','1','0','1','1','0','0','1','1','1','0','1','1' } },
	{ { '1','1','1','1','1','0','1','1','0','0','1','1','0','1','1','1' },{ '1','1','1','1','1','1','1','1','0','0','1','1','1','0','0','1' },
	{ '1','1','1','1','1','0','1','1','0','0','1','1','0','1','1','1' },{ '1','1','1','1','1','1','1','1','0','0','1','1','1','0','0','1' } }
	};

public:
	void SetPosition(int x, int y)
	{
		m_tPos.x = x;
		m_tPos.y = y;
	}

public:
	bool Init(SHAPE_TYPE eType);
	void Render();
	void RenderNext();
	bool MoveDown();
	void MoveLeft();
	void MoveRight();
	void Rotation();
};

